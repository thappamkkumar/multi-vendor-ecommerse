/**
 * Highcharts JS v11.3.0 (2024-01-10)
 *
 * Highcharts Drilldown module
 *
 * Author: Torstein Honsi
 * License: www.highcharts.com/license
 *
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/drilldown",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var i=t?t._modules:{};function e(t,i,e,o){t.hasOwnProperty(i)||(t[i]=o.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}e(i,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}}),e(i,"Extensions/Breadcrumbs/Breadcrumbs.js",[i["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(t,i,e,o){var r=i.format,n=e.composed,s=o.addEvent,l=o.defined,a=o.extend,d=o.fireEvent,p=o.isString,u=o.merge,h=o.objectEach,c=o.pick,m=o.pushUnique;function f(){if(this.breadcrumbs){var t=this.resetZoomButton&&this.resetZoomButton.getBBox(),i=this.breadcrumbs.options;t&&"right"===i.position.align&&"plotBox"===i.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-t.width-i.buttonSpacing)}}function v(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function w(){var t=this.breadcrumbs;if(t&&!t.options.floating&&t.level){var i=t.options,e=i.buttonTheme,o=(e.height||0)+2*(e.padding||0)+i.buttonSpacing,r=i.position.verticalAlign;"bottom"===r?(this.marginBottom=(this.marginBottom||0)+o,t.yOffset=o):"middle"!==r?(this.plotTop+=o,t.yOffset=-o):t.yOffset=void 0}}function g(){this.breadcrumbs&&this.breadcrumbs.redraw()}function b(t){!0===t.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}return function(){function i(t,e){this.elementList={},this.isDirty=!0,this.level=0,this.list=[];var o=u(t.options.drilldown&&t.options.drilldown.drillUpButton,i.defaultOptions,t.options.navigation&&t.options.navigation.breadcrumbs,e);this.chart=t,this.options=o||{}}return i.compose=function(i,e){m(n,this.compose)&&(s(i,"destroy",v),s(i,"afterShowResetZoom",f),s(i,"getMargins",w),s(i,"redraw",g),s(i,"selection",b),a(e.lang,t.lang))},i.prototype.updateProperties=function(t){this.setList(t),this.setLevel(),this.isDirty=!0},i.prototype.setList=function(t){this.list=t},i.prototype.setLevel=function(){this.level=this.list.length&&this.list.length-1},i.prototype.getLevel=function(){return this.level},i.prototype.getButtonText=function(t){var i=this.chart,e=this.options,o=i.options.lang,n=c(e.format,e.showFullPath?"{level.name}":"← {level.name}"),s=o&&c(o.drillUpText,o.mainBreadcrumb),a=e.formatter&&e.formatter(t)||r(n,{level:t.levelOptions},i)||"";return(p(a)&&!a.length||"← "===a)&&l(s)&&(a=e.showFullPath?s:"← "+s),a},i.prototype.redraw=function(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1},i.prototype.render=function(){var t=this.chart,i=this.options;!this.group&&i&&(this.group=t.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:i.zIndex}).add()),i.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()},i.prototype.renderFullPathButtons=function(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()},i.prototype.renderSingleButton=function(){var t=this.chart,i=this.list,e=this.options.buttonSpacing;this.destroyListElements();var o=this.group?this.group.getBBox().width:e,r=i[i.length-2];!t.drillUpButton&&this.level>0?t.drillUpButton=this.renderButton(r,o,e):t.drillUpButton&&(this.level>0?this.updateSingleButton():this.destroySingleButton())},i.prototype.alignBreadcrumbsGroup=function(t){if(this.group){var i=this.options,e=i.buttonTheme,o=i.position,r="chart"===i.relativeTo||"spacingBox"===i.relativeTo?void 0:"scrollablePlotBox",n=this.group.getBBox(),s=2*(e.padding||0)+i.buttonSpacing;o.width=n.width+s,o.height=n.height+s;var l=u(o);t&&(l.x+=t),this.options.rtl&&(l.x+=o.width),l.y=c(l.y,this.yOffset,0),this.group.align(l,!0,r)}},i.prototype.renderButton=function(t,i,e){var o=this,r=this.chart,n=o.options,s=u(n.buttonTheme),l=r.renderer.button(o.getButtonText(t),i,e,function(i){var e,r=n.events&&n.events.click;r&&(e=r.call(o,i,t)),!1!==e&&(n.showFullPath?i.newLevel=t.level:i.newLevel=o.level-1,d(o,"up",i))},s).addClass("highcharts-breadcrumbs-button").add(o.group);return r.styledMode||l.attr(n.style),l},i.prototype.renderSeparator=function(t,i){var e=this.chart,o=this.options.separator,r=e.renderer.label(o.text,t,i,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group);return e.styledMode||r.css(o.style),r},i.prototype.update=function(t){u(!0,this.options,t),this.destroy(),this.isDirty=!0},i.prototype.updateSingleButton=function(){var t=this.chart,i=this.list[this.level-1];t.drillUpButton&&t.drillUpButton.attr({text:this.getButtonText(i)})},i.prototype.destroy=function(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0},i.prototype.destroyListElements=function(t){var i=this.elementList;h(i,function(e,o){(t||!i[o].updated)&&((e=i[o]).button&&e.button.destroy(),e.separator&&e.separator.destroy(),delete e.button,delete e.separator,delete i[o])}),t&&(this.elementList={})},i.prototype.destroySingleButton=function(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)},i.prototype.resetElementListState=function(){h(this.elementList,function(t){t.updated=!1})},i.prototype.updateListElements=function(){for(var t,i,e=this.elementList,o=this.options.buttonSpacing,r=this.list,n=this.options.rtl,s=n?-1:1,l=function(t,i){return s*t.getBBox().width+s*i},a=function(t,i,e){t.translate(i-t.getBBox().width,e)},d=this.group?l(this.group,o):o,p=0,u=r.length;p<u;++p){var h=p===u-1,c=void 0,m=void 0;e[(i=r[p]).level]?(c=(t=e[i.level]).button,t.separator||h?t.separator&&h&&(t.separator.destroy(),delete t.separator):(d+=s*o,t.separator=this.renderSeparator(d,o),n&&a(t.separator,d,o),d+=l(t.separator,o)),e[i.level].updated=!0):(c=this.renderButton(i,d,o),n&&a(c,d,o),d+=l(c,o),h||(m=this.renderSeparator(d,o),n&&a(m,d,o),d+=l(m,o)),e[i.level]={button:c,separator:m,updated:!0}),c&&c.setState(h?2:0)}},i.defaultOptions=t.options,i}()}),e(i,"Extensions/Drilldown/DrilldownDefaults.js",[],function(){return{activeAxisLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0022ff",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}},mapZooming:!0}}),e(i,"Extensions/Drilldown/DrilldownSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(t,i,e){var o=t.animObject,r=i.composed,n=e.addEvent,s=e.extend,l=e.fireEvent,a=e.merge,d=e.pick,p=e.pushUnique,u=e.syncTimeout;function h(t,i,e,o){t[e?"addClass":"removeClass"]("highcharts-drilldown-point"),o||t.css({cursor:i})}function c(t){var i,e=this,r=e.chart,n=r.drilldownLevels,l=o((r.options.drilldown||{}).animation),a=this.xAxis,p=r.styledMode;t||((n||[]).forEach(function(t){e.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(i=t.shapeArgs,!p&&i&&(i.fill=t.color))}),i.x+=d(a.oldPos,a.pos)-a.pos,e.points.forEach(function(t){var o=t.shapeArgs;p||(o.fill=t.color),t.graphic&&t.graphic.attr(i).animate(s(t.shapeArgs,{fill:t.color||e.color}),l)}),r.drilldown&&r.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate)}function m(t){var i=this,e=o((i.chart.options.drilldown||{}).animation);(i.trackerGroups||[]).forEach(function(t){i[t]&&i[t].on("mouseover")});var r=i.group,n=r!==i.chart.columnGroup;n&&delete i.group,this.points.forEach(function(o){var s=o.graphic,l=t.shapeArgs;if(s&&l){var d=function(){s.destroy(),r&&n&&(r=r.destroy())};delete o.graphic,i.chart.styledMode||(l.fill=t.color),e.duration?s.animate(l,a(e,{complete:d})):(s.attr(l),d())}})}function f(t){var i=this,e=i.drilldownLevel;t||(i.points.forEach(function(t){var i,e=t.dataLabel;t.graphic&&t.graphic.hide(),e&&(e.hidden="hidden"===e.attr("visibility"),e.hidden||(e.hide(),null===(i=e.connector)||void 0===i||i.hide()))}),u(function(){if(i.points){var t=[];i.data.forEach(function(i){t.push(i)}),i.nodes&&(t=t.concat(i.nodes)),t.forEach(function(t,i){var o,r=i===(e&&e.pointIndex)?"show":"fadeIn",n=t.dataLabel;t.graphic&&t.visible&&t.graphic[r]("show"===r||void 0),n&&!n.hidden&&(n.fadeIn(),null===(o=n.connector)||void 0===o||o.fadeIn())})}},Math.max(i.chart.options.drilldown.animation.duration-50,0)),delete this.animate)}function v(t){var i=this,e=i.chart,o=i.group;e&&o&&i.options&&e.options.drilldown&&e.options.drilldown.animation&&(t&&e.mapView?(o.attr({opacity:.01}),e.mapView.allowTransformAnimation=!1,i.options.inactiveOtherPoints=!0,i.options.enableMouseTracking=!1):(o.animate({opacity:1},e.options.drilldown.animation,function(){i.options&&(i.options.inactiveOtherPoints=!1,i.options.enableMouseTracking=d(i.userOptions&&i.userOptions.enableMouseTracking,!0),i.isDirty=!0,e.redraw())}),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup)))}function w(){var t=this.chart;t&&t.mapView&&(t.mapView.allowTransformAnimation=!1),this.options&&(this.options.inactiveOtherPoints=!0)}function g(t){var i=this.chart,e=this.group;i&&e&&(t?(e.attr({opacity:.01}),this.options&&(this.options.inactiveOtherPoints=!0)):(e.animate({opacity:1},(i.options.drilldown||{}).animation),i.drilldown&&i.drilldown.fadeInGroup(this.dataLabelsGroup)))}function b(){return this.drilldown&&!this.unbindDrilldownClick&&(this.unbindDrilldownClick=n(this,"click",D)),this}function y(){var t=this.series,i=t.chart.styledMode;this.drilldown&&t.halo&&"hover"===this.state?h(t.halo,"pointer",!0,i):t.halo&&h(t.halo,"auto",!1,i)}function D(t){var i=this.series;i.xAxis&&!1===(i.chart.options.drilldown||{}).allowPointDrilldown?i.xAxis.drilldownCategory(this.x,t):this.runDrilldown(void 0,void 0,t)}function x(t){var i=t.options||{};i.drilldown&&!this.unbindDrilldownClick?this.unbindDrilldownClick=n(this,"click",D):!i.drilldown&&void 0!==i.drilldown&&this.unbindDrilldownClick&&(this.unbindDrilldownClick=this.unbindDrilldownClick())}function S(){for(var t=this.chart,i=t.options.drilldown.activeDataLabelStyle,e=t.renderer,o=t.styledMode,r=0,n=this.points;r<n.length;r++){var s=n[r],l=s.options.dataLabels,a=d(s.dlOptions,l&&l.style,{});s.drilldown&&s.dataLabel&&("contrast"!==i.color||o||(a.color=e.getContrast(s.color||this.color)),l&&l.color&&(a.color=l.color),s.dataLabel.addClass("highcharts-drilldown-data-label"),o||s.dataLabel.css(i).css(a))}}function B(){for(var t=this.chart.styledMode,i=0,e=this.points;i<e.length;i++){var o=e[i];o.drilldown&&o.graphic&&h(o.graphic,"pointer",!0,t)}}function L(t){var i=this.chart,e=this.points,o=i.drilldownLevels[i.drilldownLevels.length-1],r=i.options.drilldown.animation;if(this.is("item")&&(r.duration=0),this.center){var n=o.shapeArgs,s=n.start,l=(n.end-s)/this.points.length,d=i.styledMode;if(!t){for(var p=void 0,u=void 0,h=0,c=e.length;h<c;++h)p=(u=e[h]).shapeArgs,d||(n.fill=o.color,p.fill=u.color),u.graphic&&u.graphic.attr(a(n,{start:s+h*l,end:s+(h+1)*l}))[r?"animate":"attr"](p,r);i.drilldown&&i.drilldown.fadeInGroup(this.dataLabelsGroup),delete this.animate}}}function O(){this.runDrilldown()}function E(t,i,e){var o,r=this.series,n=r.chart,s=n.options.drilldown||{},a=(s.series||[]).length;for(n.ddDupes||(n.ddDupes=[]),n.colorCounter=n.symbolCounter=0;a--&&!o;)s.series&&s.series[a].id===this.drilldown&&this.drilldown&&-1===n.ddDupes.indexOf(this.drilldown)&&(o=s.series[a],n.ddDupes.push(this.drilldown));l(n,"drilldown",{point:this,seriesOptions:o,category:i,originalEvent:e,points:void 0!==i&&r.xAxis.getDDPoints(i).slice(0)},function(i){var e=i.point.series&&i.point.series.chart,o=i.seriesOptions;e&&o&&(t?e.addSingleSeriesAsDrilldown(i.point,o):e.addSeriesAsDrilldown(i.point,o))})}return{compose:function t(i,e){if(p(r,t)){var o=i.prototype.pointClass,s=o.prototype,l=e.column,a=e.map,d=e.pie;if(n(o,"afterInit",b),n(o,"afterSetState",y),n(o,"update",x),s.doDrilldown=O,s.runDrilldown=E,n(i,"afterDrawDataLabels",S),n(i,"afterDrawTracker",B),l){var u=l.prototype;u.animateDrilldown=c,u.animateDrillupFrom=m,u.animateDrillupTo=f}if(a){var h=a.prototype;h.animateDrilldown=v,h.animateDrillupFrom=w,h.animateDrillupTo=g}if(d){var D=d.prototype;D.animateDrilldown=L,D.animateDrillupFrom=m,D.animateDrillupTo=f}}}}}),e(i,"Extensions/Drilldown/Drilldown.js",[i["Core/Animation/AnimationUtilities.js"],i["Extensions/Breadcrumbs/Breadcrumbs.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Extensions/Drilldown/DrilldownDefaults.js"],i["Extensions/Drilldown/DrilldownSeries.js"],i["Core/Utilities.js"]],function(t,i,e,o,r,n,s){var l,a=t.animObject,d=o.composed,p=o.noop,u=s.addEvent,h=s.defined,c=s.diffObjects,m=s.extend,f=s.fireEvent,v=s.merge,w=s.objectEach,g=s.pick,b=s.pushUnique,y=s.removeEvent,D=s.syncTimeout,x=1;function S(t,i){this.getDDPoints(t).forEach(function(e){e&&e.series&&e.series.visible&&e.runDrilldown&&e.runDrilldown(!0,t,i)}),this.chart.applyDrilldown()}function B(t){return this.ddPoints&&this.ddPoints[t]||[]}function L(t){var i=[],e=t.drilldownLevels;return e&&e.length&&(i[0]||i.push({level:0,levelOptions:e[0].seriesOptions}),e.forEach(function(t,e){var o=i[i.length-1];t.levelNumber+1>o.level&&i.push({level:t.levelNumber+1,levelOptions:v({name:t.lowerSeries.name},t.pointOptions)})})),i}var O=function(){function t(t){this.chart=t}return t.prototype.addSeriesAsDrilldown=function(t,i){var e=this.chart||this;if(e.mapView){if(t.series.isDrilling=!0,e.series.forEach(function(t){var i;t.options.inactiveOtherPoints=!0,null===(i=t.dataLabelsGroup)||void 0===i||i.destroy(),delete t.dataLabelsGroup}),e.options.drilldown&&!e.mapView.projection.hasGeoProjection&&r&&!h(c(e.options.drilldown,r).mapZooming)&&(e.options.drilldown.mapZooming=!1),e.options.drilldown&&e.options.drilldown.animation&&e.options.drilldown.mapZooming){e.mapView.allowTransformAnimation=!0;var o=a(e.options.drilldown.animation);if("boolean"!=typeof o){var n=o.complete,s=function(o){o&&o.applyDrilldown&&e.mapView&&(e.addSingleSeriesAsDrilldown(t,i),e.applyDrilldown(),e.mapView.allowTransformAnimation=!1)};o.complete=function(){n&&n.apply(this,arguments),s.apply(this,arguments)}}t.zoomTo(o)}else e.addSingleSeriesAsDrilldown(t,i),e.applyDrilldown()}else e.addSingleSeriesAsDrilldown(t,i),e.applyDrilldown()},t.prototype.addSingleSeriesAsDrilldown=function(t,i){var o=this.chart||this,r=t.series,n=r.xAxis,s=r.yAxis,l=o.styledMode?{colorIndex:g(t.colorIndex,r.colorIndex)}:{color:t.color||r.color},a=r.options._levelNumber||0,d=r.points.indexOf(t);o.drilldownLevels||(o.drilldownLevels=[]),i=m(m({_ddSeriesId:x++},l),i);var u,h=[],c=[];(u=o.drilldownLevels[o.drilldownLevels.length-1])&&u.levelNumber!==a&&(u=void 0),r.chart.series.forEach(function(t){t.xAxis===n&&(t.options._ddSeriesId=t.options._ddSeriesId||x++,t.options.colorIndex=t.colorIndex,t.options._levelNumber=t.options._levelNumber||a,u?(h=u.levelSeries,c=u.levelSeriesOptions):(h.push(t),t.purgedOptions=v({_ddSeriesId:t.options._ddSeriesId,_levelNumber:t.options._levelNumber,selected:t.options.selected},t.userOptions),c.push(t.purgedOptions)))});var f=m({levelNumber:a,seriesOptions:r.options,seriesPurgedOptions:r.purgedOptions,levelSeriesOptions:c,levelSeries:h,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:t.isNull?e.parse(l.color).setOpacity(0).get():l.color,lowerSeriesOptions:i,pointOptions:r.options.data[d],pointIndex:d,oldExtremes:{xMin:n&&n.userMin,xMax:n&&n.userMax,yMin:s&&s.userMin,yMax:s&&s.userMax},resetZoomButton:u&&u.levelNumber===a?void 0:o.resetZoomButton},l);o.drilldownLevels.push(f),n&&n.names&&(n.names.length=0);var w=f.lowerSeries=o.addSeries(i,!1);w.options._levelNumber=a+1,n&&(n.oldPos=n.pos,n.userMin=n.userMax=null,s.userMin=s.userMax=null),w.isDrilling=!0,r.type===w.type&&(w.animate=w.animateDrilldown||p,w.options.animation=!0)},t.prototype.applyDrilldown=function(){var t,i=this.chart||this,e=i.drilldownLevels;e&&e.length>0&&(t=e[e.length-1].levelNumber,i.hasCartesianSeries=e.some(function(t){return t.lowerSeries.isCartesian}),(i.drilldownLevels||[]).forEach(function(e){i.mapView&&i.options.drilldown&&i.options.drilldown.mapZooming&&(i.redraw(),e.lowerSeries.isDrilling=!1,i.mapView.fitToBounds(e.lowerSeries.bounds),e.lowerSeries.isDrilling=!0),e.levelNumber===t&&e.levelSeries.forEach(function(o){if(i.mapView){if(o.options&&o.options._levelNumber===t&&o.group){var r={};i.options.drilldown&&(r=i.options.drilldown.animation),o.group.animate({opacity:0},r,function(){o.remove(!1),e.levelSeries.filter(function(t){return Object.keys(t).length}).length||(i.resetZoomButton&&(i.resetZoomButton.hide(),delete i.resetZoomButton),i.pointer.reset(),f(i,"afterDrilldown"),i.mapView&&(i.series.forEach(function(t){t.isDirtyData=!0,t.isDrilling=!1}),i.mapView.fitToBounds(void 0,void 0)),f(i,"afterApplyDrilldown"))})}}else o.options&&o.options._levelNumber===t&&o.remove(!1)})})),i.mapView||(i.resetZoomButton&&(i.resetZoomButton.hide(),delete i.resetZoomButton),i.pointer.reset(),f(i,"afterDrilldown"),i.hasCartesianSeries||i.axes.forEach(function(t){t.destroy(!0),t.init(i,v(t.userOptions,t.options))}),i.redraw(),f(i,"afterApplyDrilldown"))},t.prototype.drillUp=function(t){var i=this.chart||this;if(i.drilldownLevels&&0!==i.drilldownLevels.length){f(i,"beforeDrillUp");var e,o,r,n=i.drilldownLevels,s=n[n.length-1].levelNumber,l=i.series,a=i.drilldownLevels.length,d=function(t,e){var r;if(l.forEach(function(i){i.options._ddSeriesId===t._ddSeriesId&&(r=i)}),(r=r||i.addSeries(t,!1)).type===e.type&&r.animateDrillupTo&&(r.animate=r.animateDrillupTo),t===o.seriesPurgedOptions)return r},p=function(t){t.remove(!1),i.series.forEach(function(t){t.colorAxis&&(t.isDirtyData=!0),t.options.inactiveOtherPoints=!1}),i.redraw()},u=n.length;for(i.symbolCounter=i.colorCounter=0;u--;)!function(){var h,c;if((o=n[u]).levelNumber===s){if(n.pop(),!(h=o.lowerSeries).chart){for(e=l.length;e--;)if(l[e].options.id===o.lowerSeriesOptions.id&&l[e].options._levelNumber===s+1){h=l[e];break}}h.xData=[],h.xAxis&&h.xAxis.names&&(0===a||u===a)&&(h.xAxis.names.length=0),o.levelSeriesOptions.forEach(function(t){var i=d(t,h);i&&(c=i)}),f(i,"drillup",{seriesOptions:o.seriesPurgedOptions||o.seriesOptions}),c&&(c.type===h.type&&(c.drilldownLevel=o,c.options.animation=i.options.drilldown.animation,h.animateDrillupFrom&&h.chart&&h.animateDrillupFrom(o)),c.options._levelNumber=s);var m=h;if(i.mapView||m.remove(!1),c&&c.xAxis&&(r=o.oldExtremes,c.xAxis.setExtremes(r.xMin,r.xMax,!1),c.yAxis.setExtremes(r.yMin,r.yMax,!1)),o.resetZoomButton&&(i.resetZoomButton=o.resetZoomButton),i.mapView){var v=o.levelNumber===s&&t,w=i.options.drilldown&&i.options.drilldown.animation&&i.options.drilldown.mapZooming;v?h.remove(!1):(h.dataLabelsGroup&&(h.dataLabelsGroup.destroy(),delete h.dataLabelsGroup),i.mapView&&c&&(w&&(h.isDrilling=!0,c.isDrilling=!0,i.redraw(!1),i.mapView.fitToBounds(h.bounds,void 0,!0,!1)),i.mapView.allowTransformAnimation=!0,f(i,"afterDrillUp",{seriesOptions:c?c.userOptions:void 0}),w?i.mapView.setView(void 0,g(i.mapView.minZoom,1),!0,{complete:function(){Object.prototype.hasOwnProperty.call(this,"complete")&&p(h)}}):(i.mapView.allowTransformAnimation=!1,h.group?h.group.animate({opacity:0},i.options.drilldown.animation,function(){p(h),i.mapView&&(i.mapView.allowTransformAnimation=!0)}):(p(h),i.mapView.allowTransformAnimation=!0)),c.isDrilling=!1,i.ddDupes&&(i.ddDupes.length=0),f(i,"drillupall")))}else f(i,"afterDrillUp"),i.redraw(),i.ddDupes&&(i.ddDupes.length=0),f(i,"drillupall")}}()}},t.prototype.fadeInGroup=function(t){var i=a(this.chart.options.drilldown.animation);t&&(t.hide(),D(function(){t&&t.added&&t.fadeIn()},Math.max(i.duration-50,0)))},t.prototype.update=function(t,i){var e=this.chart;v(!0,e.options.drilldown,t),g(i,!0)&&e.redraw()},t}();return function(t){function e(t){for(var i=this.chart,e=this.getLevel()-t.newLevel,o=e>1,r=0;r<e;r++)r===e-1&&(o=!1),i.drillUp(o)}function o(){var t=this.options.drilldown,e=t&&t.breadcrumbs;this.breadcrumbs||(this.breadcrumbs=new i(this,e)),this.breadcrumbs.updateProperties(L(this))}function s(){this.breadcrumbs&&this.breadcrumbs.updateProperties(L(this))}function l(){this.drilldown=new O(this)}function a(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())}function p(){this.resetZoomButton&&this.showResetZoom()}function h(){(this.xAxis||[]).forEach(function(t){t.ddPoints={},t.series.forEach(function(i){for(var e=i.xData||[],o=i.points,r=0,n=e.length,s=void 0;r<n;r++)if("number"!=typeof(s=i.options.data[r])&&(s=i.pointClass.prototype.optionsToObject.call({series:i},s)).drilldown){t.ddPoints[e[r]]||(t.ddPoints[e[r]]=[]);var l=r-(i.cropStart||0);t.ddPoints[e[r]].push(!o||!(l>=0)||!(l<o.length)||o[l])}}),w(t.ticks,function(t){return t.drillable()})})}function c(t){var i=this.breadcrumbs,e=t.options.drilldown&&t.options.drilldown.breadcrumbs;i&&e&&i.update(e)}function m(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:g(this.newOpacity,1)},t||{duration:250})}function f(){var t=this.pos,i=this.label,e=this.axis,o="xAxis"===e.coll&&e.getDDPoints,r=o&&e.getDDPoints(t),n=e.chart.styledMode;o&&(i&&r&&r.length?(i.drillable=!0,i.basicStyles||n||(i.basicStyles=v(i.styles)),i.addClass("highcharts-drilldown-axis-label"),i.removeOnDrillableClick&&y(i.element,"click"),i.removeOnDrillableClick=u(i.element,"click",function(i){i.preventDefault(),e.drilldownCategory(t,i)}),!n&&e.chart.options.drilldown&&i.css(e.chart.options.drilldown.activeAxisLabelStyle||{})):i&&i.drillable&&i.removeOnDrillableClick&&(n||(i.styles={},i.element.removeAttribute("style"),i.css(i.basicStyles)),i.removeOnDrillableClick(),i.removeClass("highcharts-drilldown-axis-label")))}t.compose=function t(v,w,g,y,D,x,L){if(n.compose(y,D),b(d,t)){var E=x.prototype.Element,A=O.prototype,C=v.prototype,T=w.prototype,P=E.prototype,M=L.prototype;C.drilldownCategory=S,C.getDDPoints=B,i.compose(w,g),u(i,"up",e),T.addSeriesAsDrilldown=A.addSeriesAsDrilldown,T.addSingleSeriesAsDrilldown=A.addSingleSeriesAsDrilldown,T.applyDrilldown=A.applyDrilldown,T.drillUp=A.drillUp,u(w,"afterDrilldown",o),u(w,"afterDrillUp",s),u(w,"afterInit",l),u(w,"drillup",a),u(w,"drillupall",p),u(w,"render",h),u(w,"update",c),g.drilldown=r,P.fadeIn=m,M.drillable=f}}}(l||(l={})),l}),e(i,"masters/modules/drilldown.src.js",[i["Core/Globals.js"],i["Extensions/Drilldown/Drilldown.js"],i["Extensions/Breadcrumbs/Breadcrumbs.js"]],function(t,i,e){t.Breadcrumbs=e,i.compose(t.Axis,t.Chart,t.defaultOptions,t.Series,t.seriesTypes,t.SVGRenderer,t.Tick)})});