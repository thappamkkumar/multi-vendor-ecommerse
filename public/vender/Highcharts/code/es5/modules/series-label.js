/**
 * Highcharts JS v11.3.0 (2024-01-10)
 *
 * (c) 2009-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/series-label",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function r(t,e,r,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,r),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}r(e,"Extensions/SeriesLabel/SeriesLabelDefaults.js",[],function(){return{enabled:!0,connectorAllowed:!1,connectorNeighbourDistance:24,format:void 0,formatter:void 0,minFontSize:null,maxFontSize:null,onArea:null,style:{fontSize:"0.8em",fontWeight:"bold"},useHTML:!1,boxesToAvoid:[]}}),r(e,"Extensions/SeriesLabel/SeriesLabelUtilities.js",[],function(){function t(t,e,r,o,a,i){var n=(i-e)*(r-t)-(o-e)*(a-t);return n>0||!(n<0)}function e(e,r,o,a,i,n,s,h){return t(e,r,i,n,s,h)!==t(o,a,i,n,s,h)&&t(e,r,o,a,i,n)!==t(e,r,o,a,s,h)}return{boxIntersectLine:function(t,r,o,a,i,n,s,h){return e(t,r,t+o,r,i,n,s,h)||e(t+o,r,t+o,r+a,i,n,s,h)||e(t,r+a,t+o,r+a,i,n,s,h)||e(t,r,t,r+a,i,n,s,h)},intersectRect:function(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}}}),r(e,"Extensions/SeriesLabel/SeriesLabel.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Templating.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Extensions/SeriesLabel/SeriesLabelDefaults.js"],e["Extensions/SeriesLabel/SeriesLabelUtilities.js"],e["Core/Utilities.js"]],function(t,e,r,o,a,i,n){var s=this&&this.__spreadArray||function(t,e,r){if(r||2==arguments.length)for(var o,a=0,i=e.length;a<i;a++)!o&&a in e||(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))},h=t.animObject,l=e.format,c=r.setOptions,p=o.composed,u=i.boxIntersectLine,d=i.intersectRect,f=n.addEvent,x=n.extend,b=n.fireEvent,m=n.isNumber,g=n.pick,y=n.pushUnique,v=n.syncTimeout;function Y(t,e,r,o,a){var i,n,h,l,c,p,f,x=t.chart,b=t.options.label||{},m=g(b.onArea,!!t.area),y=m||b.connectorAllowed,v=x.boxesToAvoid,Y=Number.MAX_VALUE,X=Number.MAX_VALUE;for(p=0;v&&p<v.length;p+=1)if(d(v[p],{left:e,right:e+o.width,top:r,bottom:r+o.height}))return!1;for(p=0;p<x.series.length;p+=1){var A=x.series[p],w=A.interpolatedPoints&&s([],A.interpolatedPoints,!0);if(A.visible&&w){for(var M=x.plotHeight/10,S=x.plotTop;S<=x.plotTop+x.plotHeight;S+=M)w.unshift({chartX:x.plotLeft,chartY:S}),w.push({chartX:x.plotLeft+x.plotWidth,chartY:S});for(f=1;f<w.length;f+=1){if(w[f].chartX>=e-16&&w[f-1].chartX<=e+o.width+16){if(u(e,r,o.width,o.height,w[f-1].chartX,w[f-1].chartY,w[f].chartX,w[f].chartY))return!1;t===A&&!h&&a&&(h=u(e-16,r-16,o.width+32,o.height+32,w[f-1].chartX,w[f-1].chartY,w[f].chartX,w[f].chartY))}(y||h)&&(t!==A||m)&&(Y=Math.min(Y,(l=e+o.width/2-w[f].chartX)*l+(c=r+o.height/2-w[f].chartY)*c))}if(!m&&y&&t===A&&(a&&!h||Y<Math.pow(b.connectorNeighbourDistance||1,2))){for(f=1;f<w.length;f+=1)(i=Math.min(Math.pow(e+o.width/2-w[f].chartX,2)+Math.pow(r+o.height/2-w[f].chartY,2),Math.pow(e-w[f].chartX,2)+Math.pow(r-w[f].chartY,2),Math.pow(e+o.width-w[f].chartX,2)+Math.pow(r-w[f].chartY,2),Math.pow(e+o.width-w[f].chartX,2)+Math.pow(r+o.height-w[f].chartY,2),Math.pow(e-w[f].chartX,2)+Math.pow(r+o.height-w[f].chartY,2)))<X&&(X=i,n=w[f]);h=!0}}}return(!a||!!h)&&{x:e,y:r,weight:Y-(n?X:0),connectorPoint:n}}function X(t){if(this.renderer){var e=this,r=h(e.renderer.globalAnimation).duration;e.labelSeries=[],e.labelSeriesMaxSum=0,e.seriesLabelTimer&&n.clearTimeout(e.seriesLabelTimer),e.series.forEach(function(o){var a=o.options.label||{},i=o.labelBySeries,n=i&&i.closest;a.enabled&&o.visible&&(o.graph||o.area)&&!o.boosted&&e.labelSeries&&(e.labelSeries.push(o),a.minFontSize&&a.maxFontSize&&o.yData&&(o.sum=o.yData.reduce(function(t,e){return(t||0)+(e||0)},0),e.labelSeriesMaxSum=Math.max(e.labelSeriesMaxSum||0,o.sum||0)),"load"===t.type&&(r=Math.max(r,h(o.options.animation).duration)),n&&(void 0!==n[0].plotX?i.animate({x:n[0].plotX+n[1],y:n[0].plotY+n[2]}):i.attr({opacity:0})))}),e.seriesLabelTimer=v(function(){if(e.series&&e.labelSeries){var t,r;e.boxesToAvoid=[],t=e.labelSeries||[],r=e.boxesToAvoid,e.series.forEach(function(t){return(t.points||[]).forEach(function(e){return(e.dataLabels||[]).forEach(function(e){var o=e.getBBox(),a=o.width,i=o.height,n=(e.translateX||0)+(t.xAxis?t.xAxis.pos:t.chart.plotLeft),s=(e.translateY||0)+(t.yAxis?t.yAxis.pos:t.chart.plotTop);r.push({left:n,top:s,right:n+a,bottom:s+i})})})}),t.forEach(function(t){var e=t.options.label||{};t.interpolatedPoints=function(t){if(t.xAxis||t.yAxis){var e,r,o,a,i,n=t.points,s=[],h=t.graph||t.area,l=h&&h.element,c=t.chart.inverted,p=t.xAxis,u=t.yAxis,d=c?u.pos:p.pos,f=c?p.pos:u.pos,x=g((t.options.label||{}).onArea,!!t.area),b=u.getThreshold(t.options.threshold),y={};if(t.getPointSpline&&l&&l.getPointAtLength&&!x&&n.length<(t.chart.plotSizeX||0)/16){var v=h.toD&&h.attr("d");for(h.toD&&h.attr({d:h.toD}),o=l.getTotalLength(),e=0;e<o;e+=16){var Y=l.getPointAtLength(e);E({chartX:d+Y.x,chartY:f+Y.y,plotX:Y.x,plotY:Y.y})}v&&h.attr({d:v});var X=n[n.length-1];E({chartX:d+(X.plotX||0),chartY:f+(X.plotY||0)})}else{o=n.length;var A=void 0;for(e=0;e<o;e+=1){var X=n[e],w=X.plotX,M=X.plotY,S=X.plotHigh;if(m(w)&&m(M)){var L={plotX:w,plotY:M,chartX:d+w,chartY:f+M};if(x&&(S&&(L.plotY=S,L.chartY=f+S),L.chartCenterY=f+((S||M)+g(X.yBottom,b))/2),A&&(r=Math.max(Math.abs(L.chartX-A.chartX),Math.abs(L.chartY-A.chartY)))>16)for(i=1,a=Math.ceil(r/16);i<a;i+=1)E({chartX:A.chartX+(L.chartX-A.chartX)*(i/a),chartY:A.chartY+(L.chartY-A.chartY)*(i/a),chartCenterY:(A.chartCenterY||0)+((L.chartCenterY||0)-(A.chartCenterY||0))*(i/a),plotX:(A.plotX||0)+(w-(A.plotX||0))*(i/a),plotY:(A.plotY||0)+(M-(A.plotY||0))*(i/a)});E(L),A=L}}}return s}function E(t){var e=Math.round((t.plotX||0)/8)+","+Math.round((t.plotY||0)/8);y[e]||(y[e]=1,s.push(t))}}(t),r.push.apply(r,e.boxesToAvoid||[])}),e.series.forEach(function(t){var r=t.options.label;if(r&&(t.xAxis||t.yAxis)){var o,a,i,n,s,c,p,u,d,f="highcharts-color-"+g(t.colorIndex,"none"),b=!t.labelBySeries,m=r.minFontSize,y=r.maxFontSize,v=e.inverted,X=v?t.yAxis.pos:t.xAxis.pos,A=v?t.xAxis.pos:t.yAxis.pos,w=e.inverted?t.yAxis.len:t.xAxis.len,M=e.inverted?t.xAxis.len:t.yAxis.len,S=t.interpolatedPoints,L=g(r.onArea,!!t.area),E=[],T=t.xData||[],C=t.labelBySeries;if(L&&!v&&(p=[t.xAxis.toPixels(T[0]),t.xAxis.toPixels(T[T.length-1])],u=Math.min.apply(Math,p),d=Math.max.apply(Math,p)),t.visible&&!t.boosted&&S){if(!C){var P=t.name;if("string"==typeof r.format?P=l(r.format,t,e):r.formatter&&(P=r.formatter.call(t)),t.labelBySeries=C=e.renderer.label(P,0,0,"connector",0,0,r.useHTML).addClass("highcharts-series-label highcharts-series-label-"+t.index+" "+(t.options.className||"")+" "+f),!e.renderer.styledMode){var j="string"==typeof t.color?t.color:"#666666";C.css(x({color:L?e.renderer.getContrast(j):j},r.style||{})),C.attr({opacity:e.renderer.forExport?1:0,stroke:t.color,"stroke-width":1})}m&&y&&C.css({fontSize:m+(t.sum||0)/(t.chart.labelSeriesMaxSum||0)*(y-m)+"px"}),C.attr({padding:0,zIndex:3}).add()}for((o=C.getBBox()).width=Math.round(o.width),s=S.length-1;s>0;s-=1)L?U(a=S[s].chartX-o.width/2,i=(S[s].chartCenterY||0)-o.height/2,o)&&(c=Y(t,a,i,o)):(U(a=S[s].chartX+3,i=S[s].chartY-o.height-3,o)&&(c=Y(t,a,i,o,!0)),c&&E.push(c),U(a=S[s].chartX+3,i=S[s].chartY+3,o)&&(c=Y(t,a,i,o,!0)),c&&E.push(c),U(a=S[s].chartX-o.width-3,i=S[s].chartY+3,o)&&(c=Y(t,a,i,o,!0)),c&&E.push(c),U(a=S[s].chartX-o.width-3,i=S[s].chartY-o.height-3,o)&&(c=Y(t,a,i,o,!0))),c&&E.push(c);if(r.connectorAllowed&&!E.length&&!L)for(a=X+w-o.width;a>=X;a-=16)for(i=A;i<A+M-o.height;i+=16)(n=Y(t,a,i,o,!0))&&E.push(n);if(E.length){E.sort(function(t,e){return e.weight-t.weight}),c=E[0],(e.boxesToAvoid||[]).push({left:c.x,right:c.x+o.width,top:c.y,bottom:c.y+o.height});var D=Math.sqrt(Math.pow(Math.abs(c.x-(C.x||0)),2)+Math.pow(Math.abs(c.y-(C.y||0)),2));if(D&&t.labelBySeries){var B={opacity:e.renderer.forExport?1:0,x:c.x,y:c.y},z={opacity:1};D<=10&&(z={x:B.x,y:B.y},B={});var H=void 0;b&&(H=h(t.options.animation),H.duration*=.2),t.labelBySeries.attr(x(B,{anchorX:c.connectorPoint&&(c.connectorPoint.plotX||0)+X,anchorY:c.connectorPoint&&(c.connectorPoint.plotY||0)+A})).animate(z,H),t.options.kdNow=!0,t.buildKDTree();var N=t.searchPoint({chartX:c.x,chartY:c.y},!0);N&&(C.closest=[N,c.x-(N.plotX||0),c.y-(N.plotY||0)])}}else F()}else F()}function U(t,e,r){var o=Math.max(X,g(u,-1/0)),a=Math.min(X+w,g(d,1/0));return t>o&&t<=a-r.width&&e>=A&&e<=A+M-r.height}function F(){C&&(t.labelBySeries=C.destroy())}}),b(e,"afterDrawSeriesLabels")}},e.renderer.forExport||!r?0:r)}}function A(t,e,r,o,a){var i,n,s=a&&a.anchorX,h=a&&a.anchorY,l=r/2;return m(s)&&m(h)&&(i=[["M",s,h]],(n=e-h)<0&&(n=-o-n),n<r&&(l=s<t+r/2?n:r-n),h>e+o?i.push(["L",t+l,e+o]):h<e?i.push(["L",t+l,e]):s<t?i.push(["L",t,e+o/2]):s>t+r&&i.push(["L",t+r,e+o/2])),i||[]}return{compose:function t(e,r){y(p,t)&&(f(e,"load",X),f(e,"redraw",X),r.prototype.symbols.connector=A,c({plotOptions:{series:{label:a}}}))}}}),r(e,"masters/modules/series-label.src.js",[e["Core/Globals.js"],e["Extensions/SeriesLabel/SeriesLabel.js"]],function(t,e){e.compose(t.Chart,t.SVGRenderer)})});