/**
 * Highcharts JS v11.3.0 (2024-01-10)
 *
 * Series on point module
 *
 * (c) 2010-2024 Highsoft AS
 * Author: Rafal Sebestjanski and Piotr Madej
 *
 * License: www.highcharts.com/license
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/series-on-point",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function o(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}o(e,"Series/SeriesOnPointComposition.js",[e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,o,i,s,r){var n,a,p,h=t.composed,d=i.seriesTypes,c=d.bubble;d.pie,d.sunburst;var f=r.addEvent,u=r.defined,l=r.find,y=r.isNumber,m=r.pushUnique;return(n=p||(p={})).compose=function t(e,o){if(m(h,t)){var i=a.prototype,s=i.chartGetZData,r=i.seriesAfterInit,n=i.seriesAfterRender,p=i.seriesGetCenter,d=i.seriesShowOrHide,c=i.seriesTranslate;e.types.pie.prototype.onPointSupported=!0,f(e,"afterInit",r),f(e,"afterRender",n),f(e,"afterGetCenter",p),f(e,"hide",d),f(e,"show",d),f(e,"translate",c),f(o,"beforeRender",s),f(o,"beforeRedraw",s)}return e},a=function(){function t(t){this.getRadii=c.prototype.getRadii,this.getRadius=c.prototype.getRadius,this.getPxExtremes=c.prototype.getPxExtremes,this.getZExtremes=c.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}return t.prototype.drawConnector=function(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var t=this.getConnectorAttributes();t&&this.connector.animate(t)},t.prototype.getConnectorAttributes=function(){var t=this.series.chart,o=this.options;if(o){var i=o.connectorOptions||{},r=o.position,n=t.get(o.id);if(n instanceof e&&r&&u(n.plotX)&&u(n.plotY)){var a=u(r.x)?r.x:n.plotX,p=u(r.y)?r.y:n.plotY,h=a+(r.offsetX||0),d=p+(r.offsetY||0),c=i.width||1,f=i.stroke||this.series.color,l=i.dashstyle,y={d:s.prototype.crispLine([["M",a,p],["L",h,d]],c,"ceil"),"stroke-width":c};return t.styledMode||(y.stroke=f,y.dashstyle=l),y}}},t.prototype.seriesAfterInit=function(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new t(this))},t.prototype.seriesAfterRender=function(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()},t.prototype.seriesGetCenter=function(t){var o=this.options.onPoint,i=t.positions;if(o){var s=this.chart.get(o.id);s instanceof e&&u(s.plotX)&&u(s.plotY)&&(i[0]=s.plotX,i[1]=s.plotY);var r=o.position;r&&(u(r.x)&&(i[0]=r.x),u(r.y)&&(i[1]=r.y),r.offsetX&&(i[0]+=r.offsetX),r.offsetY&&(i[1]+=r.offsetY))}var n=this.radii&&this.radii[this.index];y(n)&&(i[2]=2*n),t.positions=i},t.prototype.seriesShowOrHide=function(){var t=this.chart.series;this.points.forEach(function(e){var o=l(t,function(t){var o=((t.onPoint||{}).options||{}).id;return!!o&&o===e.id});o&&o.setVisible(!o.visible,!1)})},t.prototype.seriesTranslate=function(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)},t.prototype.chartGetZData=function(){var t=[];this.series.forEach(function(e){var o=e.options.onPoint;t.push(o&&o.z?o.z:null)}),this.series.forEach(function(e){e.onPoint&&(e.onPoint.zData=e.zData=t)})},t}(),n.Additions=a,p}),o(e,"masters/modules/series-on-point.src.js",[e["Core/Globals.js"],e["Series/SeriesOnPointComposition.js"]],function(t,e){e.compose(t.Series,t.Chart)})});